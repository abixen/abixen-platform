<div adf-id="{{definition.wid}}" id="module-{{definition.wid}}" adf-module-type="{{definition.type}}" class="module">
    <div id="module-content-{{definition.wid}}">
        <div class="module-header clearfix">
            <div ng-include src="definition.titleTemplateUrl"></div>
        </div>
        <div class="module-body" uib-collapse="moduleState.isCollapsed">
            <div ng-if="moduleState.permissionDenied" class="error-container">
                <div class="error-message">
                    <i class="fa fa-exclamation-triangle"></i>&nbsp;{{'dashboard.module.message.permissionDenied' | translate}}
                </div>
            </div>
            <div ng-if="moduleState.notAvailable" class="error-container">
                <div class="error-message">
                    <i class="fa fa-exclamation-triangle"></i>&nbsp;{{'dashboard.module.message.temporarilyUnavailable' | translate}}
                </div>
            </div>
            <div ng-if="moduleState.configurationMissing" class="error-container">
                <div class="error-message">
                    <i class="fa fa-exclamation-triangle"></i>&nbsp;{{'dashboard.module.message.notConfigured' | translate}}
                </div>
            </div>
            <module-content ng-if="!moduleState.permissionDenied" ng-show="!moduleState.chatShowing" model="definition" content="module"/>
            <comments module-id="definition.id" ng-if="moduleState.chatShowing"></comments>
        </div>
    </div>
</div>